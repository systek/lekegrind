'use strict';

angular.module('myApp.view4', ['ngRoute', 'nvd3ChartDirectives'])

    .config(['$routeProvider', function ($routeProvider) {
        $routeProvider.when('/view4', {
            templateUrl: 'view4/view4.html',
            controller: 'View4Ctrl'
        });
    }])

    .controller('View4Ctrl', function ($scope, $http, elasticStatService, $timeout) {

        $scope.countryData = { "key": "Countries", "values": [] };

        $scope.exampleLine = [
            {
                "key": "Series 1",
                "values": [
                    [ 1025409600000 , 0] ,
                    [ 1028088000000 , -6.3382185140371] ,
                    [ 1030766400000 , -5.9507873460847] ,
                    [ 1033358400000 , -11.569146943813] ,
                    [ 1036040400000 , -5.4767332317425] ,
                    [ 1038632400000 , 0.50794682203014] ,
                    [ 1041310800000 , -5.5310285460542] ,
                    [ 1043989200000 , -5.7838296963382] ,
                    [ 1046408400000 , -7.3249341615649] ,
                    [ 1049086800000 , -6.7078630712489] ,
                    [ 1051675200000 , 0.44227126150934] ,

                ]
            }
        ];


        $scope.exampleBar = [
            {
                "key": "Series 1",
                "values": [
                    [ 1025409600000 , 0] ,
                    [ 1028088000000 , -6.3382185140371] ,
                    [ 1030766400000 , -5.9507873460847] ,
                    [ 1033358400000 , -11.569146943813] ,
                    [ 1036040400000 , -5.4767332317425] ,
                    [ 1038632400000 , 0.50794682203014] ,
                    [ 1041310800000 , -5.5310285460542] ,
                    [ 1043989200000 , -5.7838296963382] ,
                    [ 1046408400000 , -7.3249341615649] ,
                    [ 1049086800000 , -6.7078630712489] ,
                    [ 1051675200000 , 0.44227126150934] ,
                    [ 1054353600000 , 7.2481659343222] ,
                    [ 1056945600000 , 9.2512381306992]
                ]
            }
        ];

        $scope.xAxisTickFormatFunction = function () {
            return function (d) {
                return d3.time.format('%b')(new Date(d));
            }
        }

    });

